#!/usr/bin/env bash
set -euo pipefail

if [ $# -eq 1 ]; then
  git switch "$1"
else
  git switch "$(git branch --list --no-color --all | fzf | sed -r -e 's;remotes/(origin|upstream)/;;g' | tr -d '[:space:]')"
fi
